<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="jquery-3.6.1.js"></script>
    <script type="text/javascript" src="ide.js"></script>
    
</head>
<body>
    <div class="container">
        <h1 style="text-align: center;" class="my-lg-5">TOKO Weakmarket</h1>
            <table  class="table table-hover table-dark my-lg-5 output">
                <thead>
                    <tr>
                        <th>No</th>
                        <th>Jenis Barang</th>
                        <th>Nama Barang </th>
                        <th>Harga Satuan </th>
                        <th>Jumlah Beli </th>
                        <th>Total</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td><input class="form-control" type="text"></td>
                        <td><input class="form-control" type="text"></td>
                        <td><input class="form-control" type="number" id="hargaBarang" onchange="totaldandiskon()"></td>
                        <td><input class="form-control" type="number" id="jumlahBarang" onchange="totaldandiskon()"></td>
                        <td><input class="form-control" type="number" id="totalHarga" disabled onchange="totaldandiskon()"></td>
                        <td><button  class="btn-danger btn removebtn">Hapus</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td><input class="form-control" type="text"></td>
                        <td><input class="form-control" type="text"></td>
                        <td><input class="form-control" type="number" id="hargaBarang1" onchange="totaldandiskon()"></td>
                        <td><input class="form-control" type="number" id="jumlahBarang1" onchange="totaldandiskon()"></td>
                        <td><input class="form-control" type="number" id="totalHarga1" disabled onchange="totaldandiskon()"></td>
                        <td><button  class="btn-danger btn removebtn">Hapus</td>
                    </tr>
                </tbody>
            </table>

            <div>
                <form>
                    <label for="name">Sub Total</label>
                    <input type="text" class="form-control" id="totalSemua">
                    <label for="name">Diskon</label>
                    <select name="discont" id="discont" class="form-control">
                        <option value="nodiscont">1</option>
                        <option value="11">11%</option>
                        <option value="21">21%</option>
                        <option value="35">35%</option>
                    </select>
                    <label for="name">Grand Total</label>
                    <input type="text" class="form-control" id="GTotal">
                    <label for="name">Bayar</label>
                    <input type="text" class="form-control" id="Bayar">
                    <br>
                    <button id="Submit" class="btn btn-primary">Submit</button>
                    <button type="reset" class="btn btn-danger">Batal</button>
                </form>
    </div>
    <script>
       function totaldandiskon(){
        var hargabarang = document.getElementById('hargaBarang').value
        var jumlahBarang = document.getElementById('jumlahBarang').value
        //Perkalian harga dan jumlah harga ke subtotal
        var total = hargabarang * jumlahBarang;
        document.getElementById('totalSemua').value = total

        var subtotal = document.getElementById('totalSemua').value


        //discount 
        var diskon = document.getElementById('discont').value
        var hasil = totalSemua * diskon;

        //tempat hasil lalu masuk ke value html

        document.getElementById('totalHarga').value = total
        document.getElementById('GTotal').value = hasil
        document.getElementById('totalSemua').value = total


        //if else discont


        if (total > 252000){
            const changeSelect = (e) =>{
                const $select = document.querySelector('discont');
                $select.value = '11'
            }
        }else if (total > 439000){
            const changeSelect = (e) =>{
                const $select = document.querySelector('discont');
                $select.value = '21'
            }
        }else if (total > 640000){
            const changeSelect = (e) =>{
                const $select = document.querySelector('discont');
                $select.value = '35'
            }
        }else {
            const changeSelect = (e) =>{
                const $select = document.querySelector('discont');
                $select.value = 'nodiscont'
        }
    }   
        }
       </script>
</body>


